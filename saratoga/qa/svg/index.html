<!doctype html>
<html lang="en">
  <head>
    <title>SVG filters</title>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="shortcut icon" href="../../../favicon.ico">

    
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700|Noto+Serif+SC:400,700&display=swap&subset=latin-ext" rel="stylesheet">

    
    <link rel="stylesheet" href="../../../css/atoms/typography.css">
    <link rel="stylesheet" href="../../../css/atoms/media.css">
    <link rel="stylesheet" href="../../../css/atoms/section.css">
    <link rel="stylesheet" href="../../../css/atoms/button.css">

    
    <link rel="stylesheet" href="../../../css/molecules/paper.css">
    <link rel="stylesheet" href="../../../css/molecules/package.css">
    <link rel="stylesheet" href="../../../css/molecules/impact.css">
    <link rel="stylesheet" href="../../../css/molecules/social-media.css">
    <link rel="stylesheet" href="../../../css/molecules/expander.css">
    <link rel="stylesheet" href="../../../css/molecules/utilities.css">

    
    <link rel="stylesheet" href="../../../css/cards/grid.css">
    <link rel="stylesheet" href="../../../css/cards/flex-columns.css">
    <link rel="stylesheet" href="../../../css/cards/flex-row.css">
    <link rel="stylesheet" href="../../../css/cards/ad-widget.css">
    <link rel="stylesheet" href="../../../css/cards/digest.css">
    <link rel="stylesheet" href="../../../css/cards/immersive.css">
    <link rel="stylesheet" href="../../../css/cards/story-body.css">
    <link rel="stylesheet" href="../../../css/cards/header.css">
    <link rel="stylesheet" href="../../../css/cards/series-nav.css">
    <link rel="stylesheet" href="../../../css/cards/related-stories.css">
    <link rel="stylesheet" href="../../../css/cards/author-card.css">
    <link rel="stylesheet" href="../../../css/cards/author-bio.css">
    <link rel="stylesheet" href="../../../css/cards/timeline.css">
    <link rel="stylesheet" href="../../../css/cards/transparency.css">
    <link rel="stylesheet" href="../../../css/cards/big-news.css">
    <link rel="stylesheet" href="../../../css/cards/in-depth.css">
    <link rel="stylesheet" href="../../../css/cards/swg-promo.css">
    <link rel="stylesheet" href="../../../css/cards/read-next.css">
    <link rel="stylesheet" href="../../../css/cards/section-nav.css">
    <link rel="stylesheet" href="../../../css/cards/modals.css">
    <link rel="stylesheet" href="../../../css/cards/inline-cta.css">
    <link rel="stylesheet" href="../../../css/cards/upper-nav.css">
    <link rel="stylesheet" href="../../../css/cards/sponsor.css">
    <link rel="stylesheet" href="../../../css/cards/gallery.css">

    
    <link rel="stylesheet" href="../../../css/site.css">
<link rel="stylesheet" href="../../../css/decks/display-classes.css">
<link rel="stylesheet" href="../../../css/decks/flag.css">
<link rel="stylesheet" href="../../../css/decks/footer.css">
<link rel="stylesheet" href="../../../css/decks/menu.css">
<link rel="stylesheet" href="../../../css/decks/search.css">
<link rel="stylesheet" href="../../../css/decks/eedition-portal.css">
<link rel="stylesheet" href="../../../css/decks/impact2020.css">
<link rel="stylesheet" href="../../../css/decks/zones.css">
<link rel="stylesheet" href="../../../css/decks/purple-tuesdays.css">

<script defer src="../../../js/navigation.js"></script>
<script defer src="../../../js/gpt-ad.js"></script>


<style>
gpt-ad {
  display: block;
  text-align: center;
}
</style>

  </head>

  <body class="">
    <div class="banner paper">
      <a href="../../../" style="padding: 0;"><img class="logo" src="../../../img/banner-logo.2.svg"></a>
      <nav>
        <a href="https://mcclatchy.github.io/design/saratoga/" class="active">
          <span>style guide</span>
        </a>
        <a href="https://mcclatchy.github.io/design/markets/" class="">
          <span>markets</span>
        </a>
        <a href="https://mcclatchy.github.io/design/labs/" class="">
          <span>labs</span>
        </a>
      </nav>
    </div>
    
<style>

article {
  margin-top: 0;
}

article:before,
article:after {
  content: "";
  display: table;
}

article > div {
  margin: 30px auto;
}

h2 {
  --ht: none;
  font-family: monospace;
}

.grid {
  max-width: 100%;
  margin: 30px auto;
}

.grid img,
.grid figcaption {
  padding-left: 0 !important;
  padding-right: 0 !important;
  max-width: unset;
}

.big {
  font: 900 60px/1em "McClatchy Sans";
  margin: 0;
  padding: 15px 0 5px;
}

.huge {
  font-size: 12vw;
  font-weight: 900;
  font-style: italic;
  font-family: "McClatchy Sans";
  text-align: center;
  padding: 0;
  margin: 20px auto;
  max-width: 1020px;
}

.bw-css {filter: grayscale(1); }
.bwr {filter: url("#bwr")}
.bwg {filter: url("#bwg")}
.bwb {filter: url("#bwb")}
.bwmix {filter: url("#bwmix")}
.green {filter: url("#green")}
.poster {filter: url("#poster")}
.duotone {filter: url("#duotone")}
.old {filter: url("#old")}
.dilate {filter: url("#dilate")}
.erode {filter: url("#erode")}
.cutout {
  filter: url("#cutout");
  font-style: italic;
  letter-spacing: 6px;
}
.speed { filter: url("#speed")}
.spotlight { filter: url("#spotlight")}
.texture { filter: url("#texture")}
.noise { filter: url("#noise")}
.splash { filter: url("#splash")}
.typed {
  filter: url("#typed");
  font-style: normal;
  font-family: "McClatchy Slab";
  font-weight: 500;
}

</style>

<div class="paper">
  <article class="story-body">
    <h1>SVG Filters</h1>
    <p>Sara Soueidan spoke about these in the An Event Apart conference and I wanted to showcase some of what she was talking about and how we might use these ideas. What SVG filters can do is provide Photoshop-like techniques to any element in HTML. They are very weird and it's probably overkill for a single image. On the other hand, if we want to apply these effects to all images for a project, we can do so programmatically without changing the newsroom workflow at all. We might not want to do this ever, but the possibility is cool.</p>

    <h3>Images</h3>

    <h2>&lt;feColorMatrix&gt;</h2>
    <p>As a simple example, let's pretend that we want to make all images for a project black and white. Sure, we could do this with the CSS grayscale() filter like so.</p>

    <div class="grid">
      <figure>
        <img src="../../../img/lanterns.jpg">
        <figcaption>Cool picture of lanterns.</figcaption>
      </figure>
      <figure>
        <img class="bw-css" src="../../../img/lanterns.jpg">
        <figcaption>This is using the CSS filter technique.</figcaption>
      </figure>
    </div>

    <p>But, with SVG we have control over each RGB and alpha channel applying a similar technique as a colored filter over the lens.</p>

    <div class="grid">
      <figure>
        <img class="bwr" src="../../../img/lanterns.jpg">
        <figcaption>This places all the alpha on the red channel.</figcaption>
      </figure>
      <figure>
        <img class="bwg" src="../../../img/lanterns.jpg">
        <figcaption>This places all the alpha on the green channel.</figcaption>
      </figure>
      <figure>
        <img class="bwb" src="../../../img/lanterns.jpg">
        <figcaption>This places all the alpha on the blue channel.</figcaption>
      </figure>
    </div>

    <p>You can also mix and match or create a mix color effect. If you studied this one quite a bit, this is the same type of functionality that Instagram uses for it's filters.</p>

    <div class="grid">
      <figure>
        <img class="bwmix" src="../../../img/lanterns.jpg">
        <figcaption>This has 100% of the red channel and 50% of the blue channel bringing back in the sky and water a tad.</figcaption>
      </figure>
      <figure>
        <img class="green" src="../../../img/lanterns.jpg">
        <figcaption>This is using 100% of the green channel and 50% of the blue channel.</figcaption>
      </figure>
      <figure>
        <img class="old" src="../../../img/lanterns.jpg">
        <figcaption>This is an Instagram-like photo filter.</figcaption>
      </figure>
    </div>

    <h2>&lt;feMorphology&gt;</h2>
    <p>This lets us dilate or erode pixels based on a configurable radius, creating a painting effect.</p>

    <div class="grid">
      <figure>
        <img class="dilate" src="../../../img/lanterns.jpg">
        <figcaption>Dilating sets each pixel to its lightest least transparent neighbor.</figcaption>
      </figure>
      <figure>
        <img class="erode" src="../../../img/lanterns.jpg">
        <figcaption>Eroding sets each pixel to its darkest most transparent neighbor.</figcaption>
      </figure>
    </div>

    <h2>&lt;feComponentTransfer&gt;</h2>
    <p>This primitive manipulates each pixel in a few ways. The sample she provided was remapping colors to ranges, so each pixel gets assigned a new value according to where it falls in the range. This creates a poster effect. If you combine this filter with feColorMatrix, you can remap black to one color and white to another making a duotone effect.</p>

    <div class="grid">
      <figure>
        <img class="poster" src="../../../img/lanterns.jpg">
        <figcaption>Each pixel is being remapped to it's closest match.</figcaption>
      </figure>
      <figure>
        <img class="duotone" src="../../../img/lanterns.jpg">
        <figcaption>This is using a combination of filters that first turns the image into a funky blue-yellow, then remaps the grays to a pink or yellow color.</figcaption>
      </figure>
    </div>

    <h3>Text</h3>
    <p>The above filters would work on text too, but they wouldn't do anything. Color manipulation is only the tip of the iceberg. There are primitives for blur effects, displacement maps, and a slew of others.</p>

    <div class="grid" style="max-width: 800px">
      <figure>
        <h1 class="big">Standard</h1>
        <figcaption>A normal headline using McClatchy Sans at full weight.</figcaption>
      </figure>
      <figure>
        <div>
          <h1 class="big cutout">SLICED</h1>
        </div>
        <figcaption>A headline in McClatchy Sans with a stroke applied using dilate.</figcaption>
      </figure>
      <figure>
        <h1 class="big speed">SPEED</h1>
        <figcaption>A headline with a blur on the x-axis only.</figcaption>
      </figure>
      <figure>
        <h1 class="big spotlight">Spotlight</h1>
        <figcaption>A headline with a lighting effect applied.</figcaption>
      </figure>
    </div>

    <h2>&lt;feDisplacementMap&gt;</h2>

    <p>A displacement map takes texture from a background image and adjusts the text to match. Then you can composite both to create the effect of the text being painted on the texture, much like blend modes in Photoshop.</p>

    <h1 class="huge texture">Displace</h1>

    <h2>&lt;feTurbulence&gt;</h2>

    <p>Perlin noise is an algorithm that makes generated noise look more natural. On it's own it doesn't look like much, but when you combine it with the other primitives available you can do some fun stuff.</p>

    <div class="noise" style="height: 150px;"></div>

    <p>You can apply this on text with a displacement map. The below example is making two different displacement maps for the same text on two different noise patterns.</p>

    <h1 class="huge splash">Splash</h1>

    <h3>Put a few things together</h3>

    <p>The last demo Sara showed was a combination of &lt;feTurbulence&gt; and &lt;feSpecularLighting&gt; to create a paper background. If we add this to the previous examples and a slab font, we can take any element and make it look like it was typed on paper.</p>

    <h1 class="huge typed">Typed</h1>

    <h3>Conclusion</h3>

    <p>This was a really fun part of the conference, and I saw some potential use cases for our company. Yeah, a lot of these are a bit on the cheesy side, but I want to keep studying to get better and find very subtle ways to use them. We can apply these to any story, they are very portable, and manipulate HTML and images that newsrooms could control. It's also possible to use them on CSS-generated content using ::before and ::after, which might come in handy for branded sections and stories like Influencers.</p>
    </div>

  </article>
</div>

<svg xmlns="http://www.w3.org/2000/svg" height="0" width="0" style="display: block">
  <filter id="bwr">
    <feColorMatrix 
      type="matrix" 
      values="1 0 0 0 0
              1 0 0 0 0
              1 0 0 0 0
              1 0 0 1 0"/>
  </filter>

  <filter id="bwg">
    <feColorMatrix 
      type="matrix" 
      values="0 1 0 0 0
              0 1 0 0 0
              0 1 0 0 0
              0 1 0 1 0"/>
  </filter>

  <filter id="bwb">
    <feColorMatrix 
      type="matrix" 
      values="0 0 1 0 0
              0 0 1 0 0
              0 0 1 0 0
              0 0 1 1 0"/>
  </filter>

  <filter id="bwmix">
    <feColorMatrix 
      type="matrix" 
      values="1 0 0.5 0 0
              1 0 0.5 0 0
              1 0 0.5 0 0
              1 0 1 1 0"/>
  </filter>

  <filter id="green">
    <feColorMatrix 
      type="matrix" 
      values="0 0 0 0 0
              0 1 0 0 0
              0 0 .5 0 0
              0 0 0 1 0"/>
  </filter>

  <filter id="poster">
    <feComponentTransfer>
      <feFuncR type="discrete" tableValues="0 .5 1"/>
      <feFuncG type="discrete" tableValues="0 .5 1"/>
      <feFuncB type="discrete" tableValues="0 1 1"/>
    </feComponentTransfer>
  </filter>
  
  <filter id="duotone">
    <feColorMatrix type="matrix" values="
      1.5 0 0 0 0
      1.5 0 0 0 0
      0 0 0 .5 0
      0 0 0 1 0" />
    <feComponentTransfer>
      <feFuncR type="table" tableValues=".996078431 .984313725" />
      <feFuncG type="table" tableValues=".125490196 .941176471" />
      <feFuncB type="table" tableValues=".552941176 .478431373" />
    </feComponentTransfer>
  </filter>

  <filter id="old">
    <feColorMatrix type="matrix" values="
      1 0 0 0 0
      0 2 0 0 0
      0 0 0 .5 0
      0 0 0 1 0" />
  </filter>

  <filter id="dilate">
    <feMorphology operator="dilate" radius="2" />
  </filter>

  <filter id="erode">
    <feMorphology operator="erode" radius="2" />
  </filter>

  <filter id="cutout">
    <feMorphology operator="dilate" radius="4" result="stroke" />
    <feComposite operator="out" in="stroke" in2="SourceGraphic" />
  </filter>

  <filter id="speed">
    <feGaussianBlur stdDeviation="6 0" />
  </filter>

  <filter id="spotlight" filterUnits="userSpaceOnUse">
    <feSpecularLighting lighting-color="blue" specularExponent="10" specularConstant="2" result="light">
      <feSpotLight z="60" pointsAtX="10" pointsAtY="10" limitingConeAngle="60"/>
    </feSpecularLighting>
    <feComposite in="SourceGraphic" in2="light" operator="out"/>
  </filter>
  
  <filter id="texture" filterUnits="objectBoundingBox" x="0" y="0" height="100%" width="100%">
    <!-- load the towel --> 
    <feImage xlink:href="../towel.jpg" preserveAspectRatio="none" result="bg" />
    <!-- conver the towel to bw for displacement -->
    <feColorMatrix type="saturate" values="0" />
    <feGaussianBlur stdDeviation=".5" />
    <feDisplacementMap in="SourceGraphic" scale="15" xChannelSelector="R" yChannelSelector="R" />
    <feColorMatrix type="matrix" values="
      1 0 0 0 0
      0 1 0 0 0
      0 0 1 0 0
      0 0 0 .5 0" />
    <feBlend in="bg" mode="multiply" />
  </filter>

  <filter id="noise">
    <feTurbulence type="fractalNoise" baseFrequency=".01" numOctaves="3"/>
  </filter>

  <filter id="splash">
    <feTurbulence type="fractalNoise" baseFrequency=".1" numOctaves="1" seed="1" result="middle" />
    <feDisplacementMap  in="SourceGraphic" in2="middle" scale="35" result="map"/>
    <feTurbulence type="fractalNoise" baseFrequency=".3" numOctaves="1" seed="1" result="top"/>
    <feDisplacementMap in="SourceGraphic" in2="top" scale="120" result="top2"/>
    <feMerge result="both">
      <feMergeNode in="map"/>
      <feMergeNode in="top2"/>
    </feMerge>
  </filter>

  <filter id="typed" x="0" y="0" width="100%" height="100%">
    <!-- makes the paper -->
    <feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" />
    <feDiffuseLighting lighting-color="white" surfaceScale="2" result="paper">
      <feDistantLight azimuth="50" elevation="58" />
    </feDiffuseLighting>
    <!-- make a map for the text -->
    <feDisplacementMap in="SourceGraphic" in2="paper" scale="15" xChannelSelector="R" yChannelSelector="R" result="ink" />
    <!-- put them together -->
    <feMerge>
      <feMergeNode in="paper" />
      <feMergeNode in="ink" />
    </feMerge>
  </filter>
</svg>

    
  </body>
</html>
